<html>
<head>
	<title>PayCr</title>
	<link rel="shortcut icon" href="${staticUrl}/images/ico/favicon.png">
    <link href="${staticUrl}/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="${staticUrl}/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="${staticUrl}/dist/css/AdminLTE.min.css" rel="stylesheet">
    <script src="${staticUrl}/vendor/jquery/jquery.min.js"></script>
</head>
<body>
	<section class="invoice">
		<div id="container">
			<div class="row">
				<div class="col-xs-12">
					<h2 class="page-header">
						Tax Invoice <small class="pull-right">Date: ${invoice.created}</small>
					</h2>
				</div>
			</div>
			<div class="row invoice-info">
				<div class="col-sm-4 invoice-col">
					From
					<address>
						<strong><i class="fa fa-institution"></i> ${invoice.merchant.name}</strong>
						<#if invoice.merchant.address??>
						<br>${invoice.merchant.address.addressLine1}
						<br>${invoice.merchant.address.addressLine2}
						<br>${invoice.merchant.address.city}, ${invoice.merchant.address.district}
						<br>${invoice.merchant.address.state}, ${invoice.merchant.address.pincode}
						<br>${invoice.merchant.address.country}
						</#if>
						<br><i class="fa fa-phone"></i> ${invoice.merchant.mobile}
						<br><i class="fa fa-envelope"></i> ${invoice.merchant.email}
						<#if invoice.merchant.gstin??>
						<br><b>GSTIN: </b>${invoice.merchant.gstin}
						</#if>
					</address>
				</div>
				<div class="col-sm-4 invoice-col">
					<#if invoice.consumer??>
					To
					<address>
						<strong><i class="fa fa-user"></i> ${invoice.consumer.name}</strong>
						<#if invoice.consumer.billingAddress??>
						<br>${invoice.consumer.billingAddress.addressLine1}
						<br>${invoice.consumer.billingAddress.addressLine2}
						<br>${invoice.consumer.billingAddress.city}, ${invoice.consumer.billingAddress.district}
						<br>${invoice.consumer.billingAddress.state}, ${invoice.consumer.billingAddress.pincode}
						<br>${invoice.consumer.billingAddress.country}
						</#if>
						<br><i class="fa fa-phone"></i> ${invoice.consumer.mobile}
						<br><i class="fa fa-envelope"></i> ${invoice.consumer.email}
						<#if invoice.merchant.gstin??>
						<br><b>GSTIN: </b>${invoice.consumer.gstin}
						</#if>
					</address>
					</#if>
				</div>
				<div class="col-sm-4 invoice-col">
					<b>Invoice#</b> ${invoice.invoiceCode}<br>
					<b>Payment Due:</b> ${invoice.expiry}<br><br>
					<#list invoice.customParams as param>
	                	<b>${param.paramName}:</b> ${param.paramValue}<br>
	                </#list>
				</div>
			</div>
			<div class="row">
				<div class="col-xs-12 table-responsive">
					<table class="table table-striped">
						<thead>
							<tr>
								<th>Name</th>
								<th>HSN/SAC</th>
								<th>Rate</th>
								<th>Qty</th>
								<th>Tax</th>
								<th>Total</th>
							</tr>
						</thead>
						<tbody>
							<#list invoice.items as item>
							<tr>
								<td>${item.inventory.name}</td>
								<td><#if item.inventory.hsnsac??> ${item.inventory.hsnsac}</#if></td>
								<td><i class="fa fa-rupee"></i> ${item.inventory.rate}</td>
								<td>${item.quantity}</td>
								<td>${item.tax.name} ${item.tax.value}%</td>
								<td><i class="fa fa-rupee"></i> ${item.price}</td>
							</tr>
							</#list>
						</tbody>
					</table>
				</div>
			</div>
			<div class="row">
				<div class="col-xs-6">
					<p class="lead">Payment Methods:</p>
					<img src="${staticUrl}/dist/img/credit/visa.png" alt="Visa">
					<img src="${staticUrl}/dist/img/credit/mastercard.png" alt="Mastercard">
					<img src="${staticUrl}/dist/img/credit/mestro.png" alt="Maestro">
					<p class="text-muted well well-sm no-shadow"
						style="margin-top: 10px;">Choose from many available option like CreditCard, DebitCard, NetBanking, 
						Mobile Wallets, UPI, etc to pay your dues.</p>
				</div>
				<div class="col-xs-6">
					<p class="lead">Amount Due by ${invoice.expiry}</p>
	
					<div class="table-responsive">
						<table class="table">
							<tr>
								<th style="width: 50%">Subtotal:</th>
								<td><i class="fa fa-rupee"></i> ${invoice.total}</td>
							</tr>
							<#list taxes as tax>
							<tr>
								<th>${tax.tax.name} (${tax.tax.value}%)</th>
								<td>${tax.amount}</td>
							</tr>
							</#list>
							<tr>
								<th>Shipping:</th>
								<td><i class="fa fa-rupee"></i> ${invoice.shipping}</td>
							</tr>
							<tr>
								<th>Discount:</th>
								<td><i class="fa fa-rupee"></i> ${invoice.discount}</td>
							</tr>
							<tr>
								<th>Total:</th>
								<td><i class="fa fa-rupee"></i> ${invoice.payAmount}</td>
							</tr>
						</table>
					</div>
				</div>
			</div>
		</div>
		<div class="row no-print">
			<div class="col-xs-12">
				<a onclick="printDiv()" class="btn btn-default">
					<i class="fa fa-print"></i> Print
				</a>
				<a href="/invoice/receipt/download/${invoice.invoiceCode}" class="btn btn-primary pull-right">
					<i class="fa fa-download"></i> Generate PDF
				</a>
				<a href="/${invoice.invoiceCode}" target="_blank" class="btn btn-success pull-right" style="margin-right:5px;">
					<i class="fa fa-rupee"></i> Pay Online
				</a>
			</div>
		</div>
	</section>
	<script src="${staticUrl}/vendor/jquery/jquery.min.js"></script>
    <script src="${staticUrl}/vendor/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript">
		function printDiv() {
		     var printContents = document.getElementById('container').innerHTML;
		     var originalContents = document.body.innerHTML;
		     document.body.innerHTML = printContents;
		     window.print();
		     document.body.innerHTML = originalContents;
		}
	</script>
</body>
</html>
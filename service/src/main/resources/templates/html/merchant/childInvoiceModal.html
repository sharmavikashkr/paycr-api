<div id="childInvoiceModal" ng-controller="InvoiceController" class="modal fade" role="dialog">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h5 class="modal-title">Create Child Invoice : <strong>{{bulkInvoiceInfo.invoiceCode}}</strong></h5>
			</div>
			<div class="modal-body">
				<form name="childInvoiceForm">
					<div class="row">
						<div class="col-md-12">
							<div class="form-group">
								<label class="control-label">Upload Consumers (CSV): (<a href="/invoice/bulk/upload/format">Download format</a>)</label>
								<input type="file" onchange="angular.element(this).scope().uploadConsumers(this.files)" accept=".csv" />
							</div>
							<table class="table table-bordered table-responsive">
								<thead>
									<tr>
										<th>Name</th>
										<th class="hidden-xs">Uploaded On</th>
										<th class="hidden-xs">Uploaded By</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="bulkUpload in bulkUploads">
										<td><a target="_blank" href="/invoice/bulk/download/{{bulkUpload.fileName}}">{{bulkUpload.fileName}}</a></td>
										<td class="hidden-xs">{{bulkUpload.created | date:'dd-MM-yyyy'}}</td>
										<td class="hidden-xs">{{bulkUpload.createdBy}}</td>
									</tr>
								</tbody>
							</table>
							<hr>
							<h5>Add Single Consumer</h5>
							<table class="table table-bordered table-responsive">
								<tbody>
									<tr>
										<td>
											<div ng-class="(childInvoiceForm.name.$valid)?'':'has-error'" class="form-group">
												<label class="control-label">Name</label>
												<input class="form-control" ng-model="consumer.name" name="name" placeholder="Name" ng-pattern="patterns.namePattern" required />
											</div>
										</td>
									</tr>
									<tr>
										<td>
											<div ng-class="(childInvoiceForm.email.$valid)?'':'has-error'" class="form-group">
												<label class="control-label">Email</label>
												<input class="form-control" ng-model="consumer.email" name="email" type="email" placeholder="Email" ng-pattern="patterns.emailPattern" required />
											</div>
										</td>
									</tr>
									<tr>
										<td>
											<div ng-class="(childInvoiceForm.mobile.$valid)?'':'has-error'" class="form-group">
												<label class="control-label">Mobile</label>
												<input class="form-control" ng-model="consumer.mobile" name="mobile" type="number" placeholder="Mobile" ng-pattern="patterns.mobilePattern" required />
											</div>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-info" ng-click="createChildInvoice(bulkInvoiceInfo.invoiceCode)">Create</button>
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>
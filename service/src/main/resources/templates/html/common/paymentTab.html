<div ng-controller="PaymentController" ng-init="searchPayment()">
	<br>
	<div class="row">
		<div class="col-lg-12">
			<div class="panel">
				<div class="panel-body col-sm-3">
					<table class="table table-striped table-bordered table-hover table-responsive">
						<tbody>
							<tr>
								<td>
									<div class="form-group">
										<label class="control-label">Created between</label>
										<md-datepicker ng-model="searchPaymentReq.createdFrom"></md-datepicker>
										<br><span>&nbsp;&nbsp;and</span><br>
										<md-datepicker ng-model="searchPaymentReq.createdTo"></md-datepicker>
									</div>
								</td>
							</tr>
							<tr>
								<td>
									<div class="form-group">
										<label class="control-label">Invoice Code</label>
										<input class="form-control" ng-model="searchPaymentReq.invoiceCode" placeholder="invoiceCode" />
									</div>
								</td>
							</tr>
							<tr>
								<td>
									<div class="form-group">
										<label class="control-label">Payment Ref No</label>
										<input class="form-control" ng-model="searchPaymentReq.paymentRefNo" placeholder="Payment Ref No" />
									</div>
								</td>
							</tr>
							<tr>
								<td>
									<div class="form-group">
										<label class="control-label">Pay Type</label>
										<select class="form-control" ng-model="searchPaymentReq.payType">
											<option ng-repeat="payType in payTypes" value="{{payType}}">{{payType}}</option>
										</select>
									</div>
								</td>
							</tr>
							<tr>
								<td><button ng-click="searchPayment()" type="button" class="btn btn-info">Search</button></td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="panel-body col-sm-9">
					<table class="table table-striped table-bordered table-hover table-responsive">
						<thead>
							<tr>
								<th class="hidden-xs">Invoice Code</th>
								<th>Payment Ref No</th>
								<th>Amount</th>
								<th>Pay Type</th>
								<th class="hidden-xs">Status</th>
							</tr>
						</thead>
						<tbody ng-repeat="payment in paymentResp.paymentList">
							<tr
								ng-class="(payment.status=='captured')?'success':(payment.status=='refund')?'danger':'warning'"
								data-toggle="collapse"
								data-target="#paydetails-{{payment.id}}"
								class="accordion-toggle">
								<td class="hidden-xs">{{payment.invoiceCode}}</td>
								<td>{{payment.paymentRefNo}}</td>
								<td>&#8377; {{payment.amount}}</td>
								<td>{{payment.payType}}</td>
								<td class="hidden-xs">{{payment.status}}</td>
							</tr>
							<tr>
								<td colspan="12" style="padding: 0px; border: 0px;">
									<div style="padding:10px;" class="accordion-body collapse" id="paydetails-{{payment.id}}">
										<div class="row">
											<div class="col-lg-12">
												<h5>Payment Details</h5>
												<table class="table table-striped table-bordered table-responsive">
													<tbody>
														<tr>
															<td><strong>Pay Mode</strong></td>
															<td><strong>Bank</strong></td>
															<td><strong>Wallet</strong></td>
															
														</tr>
														<tr>
															<td>{{payment.method}}</td>
															<td>{{payment.bank}}</td>
															<td>{{payment.waller}}</td>
														</tr>
													</tbody>
												</table>
											</div>
										</div>
									</div>
								</td>
							</tr>
						</tbody>
					</table>
					<ul class="pagination" style="float:right;">
						<li ng-class="(paymentResp.page <= 1)?'disabled':''" class="paginate_button previous"><a ng-click="loadPaymentPage(paymentResp.page-1)" href="#">Previous</a></li>
						<li ng-repeat="page in paymentResp.allPages" ng-class="(page == paymentResp.page)?'active':''"><a ng-click="loadPaymentPage(page)" href="#">{{page}}</a></li>
						<li ng-class="(paymentResp.page >= paymentResp.allPages.length)?'disabled':''" class="paginate_button next"><a ng-click="loadPaymentPage(paymentResp.page+1)" href="#">Next</a></li>
					</ul>
				</div>
			</div>
		</div>
	</div>
</div>